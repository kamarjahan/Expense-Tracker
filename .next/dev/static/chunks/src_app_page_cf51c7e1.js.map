{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Expense-Tracker/src/app/page.js"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useMemo } from 'react';\n// Firebase Imports\nimport { initializeApp, getApps, getApp } from 'firebase/app';\nimport { \n  getAuth, \n  onAuthStateChanged, \n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  signInWithPopup,\n  GoogleAuthProvider,\n  signOut\n} from 'firebase/auth';\nimport { \n  getFirestore, \n  collection, \n  query, \n  orderBy, \n  onSnapshot, \n  addDoc, \n  updateDoc,\n  deleteDoc, \n  doc, \n  serverTimestamp, \n  enableIndexedDbPersistence\n} from 'firebase/firestore';\n// Chart Imports\nimport { \n  PieChart, Pie, Cell, Tooltip as RechartsTooltip, ResponsiveContainer \n} from 'recharts';\n// Icon Imports\nimport { \n  Wallet, Plus, Trash2, LogOut, TrendingUp, TrendingDown, \n  FileDown, Edit2, Loader2, DollarSign, Calendar, LayoutDashboard,\n  PieChart as PieIcon\n} from 'lucide-react';\n\n// --- 1. Firebase Configuration ---\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID\n};\n\n// --- 2. Initialize Firebase (Singleton Pattern) ---\nlet app, auth, db;\n\nif (typeof window !== 'undefined' && !getApps().length) {\n  try {\n    app = initializeApp(firebaseConfig);\n    auth = getAuth(app);\n    db = getFirestore(app);\n    \n    // Enable Offline Mode\n    enableIndexedDbPersistence(db).catch((err) => {\n      if (err.code == 'failed-precondition') {\n        console.warn('Persistence failed: Multiple tabs open');\n      } else if (err.code == 'unimplemented') {\n        console.warn('Persistence not supported by browser');\n      }\n    });\n  } catch (error) {\n    console.error(\"Firebase Init Error:\", error);\n  }\n} else if (typeof window !== 'undefined') {\n  app = getApp();\n  auth = getAuth(app);\n  db = getFirestore(app);\n}\n\n// --- 3. Constants ---\nconst CATEGORIES = [\n  { name: 'Food', color: '#EF4444', icon: 'ðŸ”' },\n  { name: 'Rent', color: '#6366F1', icon: 'ðŸ ' },\n  { name: 'Transport', color: '#F59E0B', icon: 'ðŸš—' },\n  { name: 'Entertainment', color: '#EC4899', icon: 'ðŸŽ¬' },\n  { name: 'Shopping', color: '#8B5CF6', icon: 'ðŸ›ï¸' },\n  { name: 'Health', color: '#10B981', icon: 'ðŸ¥' },\n  { name: 'Salary', color: '#059669', icon: 'ðŸ’°' },\n  { name: 'Freelance', color: '#3B82F6', icon: 'ðŸ’»' },\n  { name: 'Other', color: '#64748B', icon: 'ðŸ“¦' }\n];\n\n// --- 4. Sub-Components ---\n\n// Login/Register Screen\nconst AuthScreen = ({ onLogin }) => {\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleAuth = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      if (isRegistering) {\n        await createUserWithEmailAndPassword(auth, email, password);\n      } else {\n        await signInWithEmailAndPassword(auth, email, password);\n      }\n    } catch (err) {\n      setError(err.message.replace('Firebase: ', ''));\n    }\n    setLoading(false);\n  };\n\n  const handleGoogle = async () => {\n    try {\n      await signInWithPopup(auth, new GoogleAuthProvider());\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-slate-100 p-4\">\n      <div className=\"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md\">\n        <div className=\"flex justify-center mb-6\">\n          <div className=\"bg-indigo-600 p-3 rounded-xl\">\n            <Wallet className=\"w-8 h-8 text-white\" />\n          </div>\n        </div>\n        <h2 className=\"text-2xl font-bold text-center text-slate-800 mb-2\">\n          {isRegistering ? 'Create Account' : 'Welcome Back'}\n        </h2>\n        <p className=\"text-center text-slate-500 mb-8\">Secure Cloud Expense Tracking</p>\n\n        {error && <div className=\"bg-red-50 text-red-600 p-3 rounded-lg text-sm mb-4\">{error}</div>}\n\n        <form onSubmit={handleAuth} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-xs font-semibold text-slate-500 uppercase mb-1\">Email</label>\n            <input type=\"email\" required className=\"w-full px-4 py-2 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500\" value={email} onChange={e => setEmail(e.target.value)} />\n          </div>\n          <div>\n            <label className=\"block text-xs font-semibold text-slate-500 uppercase mb-1\">Password</label>\n            <input type=\"password\" required className=\"w-full px-4 py-2 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500\" value={password} onChange={e => setPassword(e.target.value)} />\n          </div>\n          <button disabled={loading} className=\"w-full bg-indigo-600 text-white font-bold py-3 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50\">\n            {loading ? <Loader2 className=\"w-5 h-5 animate-spin mx-auto\"/> : (isRegistering ? 'Sign Up' : 'Login')}\n          </button>\n        </form>\n\n        <div className=\"mt-4\">\n           <button type=\"button\" onClick={handleGoogle} className=\"w-full bg-white border border-slate-300 text-slate-700 font-bold py-3 rounded-lg hover:bg-slate-50 transition-colors flex items-center justify-center gap-2\">\n            Sign in with Google\n          </button>\n        </div>\n\n        <p className=\"mt-6 text-center text-sm text-slate-500\">\n          {isRegistering ? \"Already have an account?\" : \"Don't have an account?\"}{\" \"}\n          <button onClick={() => setIsRegistering(!isRegistering)} className=\"text-indigo-600 font-bold hover:underline\">\n            {isRegistering ? \"Login\" : \"Sign Up\"}\n          </button>\n        </p>\n      </div>\n    </div>\n  );\n};\n\n// --- 5. Main Application ---\nexport default function App() {\n  const [user, setUser] = useState(null);\n  const [expenses, setExpenses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editItem, setEditItem] = useState(null);\n\n  // Form State\n  const [amount, setAmount] = useState('');\n  const [description, setDescription] = useState('');\n  const [category, setCategory] = useState('Food');\n  const [type, setType] = useState('expense');\n  const [date, setDate] = useState('');\n\n  // 1. Auth Listener\n  useEffect(() => {\n    if (!auth) return;\n    const unsubscribe = onAuthStateChanged(auth, (u) => {\n      setUser(u);\n      if (!u) {\n        setExpenses([]);\n        setLoading(false);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // 2. Real-time Database Listener\n  useEffect(() => {\n    if (!user || !db) return;\n    \n    // Query: users -> {userId} -> expenses\n    const q = query(\n      collection(db, 'users', user.uid, 'expenses'),\n      orderBy('date', 'desc'),\n      orderBy('createdAt', 'desc')\n    );\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const data = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setExpenses(data);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [user]);\n\n  // 3. CRUD Operations\n  const handleSave = async (e) => {\n    e.preventDefault();\n    if (!user) return;\n\n    const payload = {\n      amount: parseFloat(amount),\n      description,\n      category,\n      type,\n      date,\n      createdAt: serverTimestamp()\n    };\n\n    try {\n      const colRef = collection(db, 'users', user.uid, 'expenses');\n      if (editItem) {\n        const { createdAt, ...updatePayload } = payload; // Don't overwrite timestamp\n        await updateDoc(doc(db, 'users', user.uid, 'expenses', editItem.id), updatePayload);\n      } else {\n        await addDoc(colRef, payload);\n      }\n      closeModal();\n    } catch (err) {\n      alert(\"Error saving: \" + err.message);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (!confirm(\"Delete this transaction?\")) return;\n    try {\n      await deleteDoc(doc(db, 'users', user.uid, 'expenses', id));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleExport = () => {\n    if (!expenses.length) return;\n    const headers = [\"Date\", \"Type\", \"Category\", \"Description\", \"Amount\"];\n    const rows = expenses.map(e => [e.date, e.type, e.category, `\"${e.description}\"`, e.amount]);\n    const csvContent = \"data:text/csv;charset=utf-8,\" + headers.join(\",\") + \"\\n\" + rows.map(e => e.join(\",\")).join(\"\\n\");\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"href\", encodeURI(csvContent));\n    link.setAttribute(\"download\", `expenses_export.csv`);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // 4. Modal Handlers\n  const openModal = (item = null) => {\n    if (item) {\n      setEditItem(item);\n      setAmount(item.amount);\n      setDescription(item.description);\n      setCategory(item.category);\n      setType(item.type);\n      setDate(item.date);\n    } else {\n      setEditItem(null);\n      setAmount('');\n      setDescription('');\n      setCategory('Food');\n      setType('expense');\n      setDate(new Date().toISOString().split('T')[0]);\n    }\n    setModalOpen(true);\n  };\n\n  const closeModal = () => {\n    setModalOpen(false);\n    setEditItem(null);\n  };\n\n  // 5. Statistics\n  const stats = useMemo(() => {\n    const income = expenses.filter(e => e.type === 'income').reduce((acc, curr) => acc + curr.amount, 0);\n    const expense = expenses.filter(e => e.type === 'expense').reduce((acc, curr) => acc + curr.amount, 0);\n    return { income, expense, balance: income - expense };\n  }, [expenses]);\n\n  const chartData = useMemo(() => {\n    const expenseData = expenses.filter(e => e.type === 'expense');\n    const grouped = expenseData.reduce((acc, curr) => {\n      acc[curr.category] = (acc[curr.category] || 0) + curr.amount;\n      return acc;\n    }, {});\n    \n    return Object.keys(grouped).map(key => ({\n      name: key,\n      value: grouped[key],\n      color: CATEGORIES.find(c => c.name === key)?.color || '#ccc'\n    })).sort((a,b) => b.value - a.value);\n  }, [expenses]);\n\n  if (loading) return <div className=\"h-screen flex items-center justify-center\"><Loader2 className=\"w-10 h-10 animate-spin text-indigo-600\" /></div>;\n  if (!user) return <AuthScreen />;\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 font-sans text-slate-900 pb-20 md:pb-10\">\n      {/* Header */}\n      <header className=\"bg-white border-b sticky top-0 z-10 px-4 py-3 flex justify-between items-center shadow-sm\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"bg-gradient-to-tr from-indigo-600 to-violet-500 p-2 rounded-lg shadow-lg shadow-indigo-200\">\n            <Wallet className=\"w-5 h-5 text-white\" />\n          </div>\n          <span className=\"font-bold text-xl tracking-tight hidden md:block\">ExpenseTracker</span>\n        </div>\n        <div className=\"flex items-center gap-4\">\n          <button onClick={handleExport} className=\"p-2 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition-all\" title=\"Export CSV\"><FileDown className=\"w-5 h-5\" /></button>\n          <button onClick={() => signOut(auth)} className=\"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-full transition-all\" title=\"Logout\"><LogOut className=\"w-5 h-5\" /></button>\n        </div>\n      </header>\n\n      <main className=\"max-w-6xl mx-auto p-4 md:p-6 space-y-6\">\n        {/* Statistics Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"bg-indigo-600 rounded-2xl p-6 text-white shadow-xl shadow-indigo-200 h-32 md:h-40 flex flex-col justify-between\">\n            <div><p className=\"text-indigo-200 text-sm font-medium\">Total Balance</p><h2 className=\"text-3xl font-bold mt-1\">${stats.balance.toLocaleString()}</h2></div>\n            <div className=\"bg-indigo-500/30 w-fit px-3 py-1 rounded-full text-xs flex items-center\"><span className=\"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse\"></span>Live Sync</div>\n          </div>\n          <div className=\"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm h-32 md:h-40 flex flex-col justify-between\">\n            <div><p className=\"text-slate-500 text-sm font-medium\">Income</p><h2 className=\"text-2xl font-bold text-emerald-600 mt-1\">+${stats.income.toLocaleString()}</h2></div>\n            <div className=\"bg-emerald-50 p-2 rounded-full w-fit\"><TrendingUp className=\"w-5 h-5 text-emerald-600\" /></div>\n          </div>\n          <div className=\"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm h-32 md:h-40 flex flex-col justify-between\">\n            <div><p className=\"text-slate-500 text-sm font-medium\">Expenses</p><h2 className=\"text-2xl font-bold text-rose-600 mt-1\">-${stats.expense.toLocaleString()}</h2></div>\n            <div className=\"bg-rose-50 p-2 rounded-full w-fit\"><TrendingDown className=\"w-5 h-5 text-rose-600\" /></div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Chart */}\n          <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-[400px]\">\n            <h3 className=\"font-bold text-slate-800 mb-4 flex items-center gap-2\"><PieIcon className=\"w-4 h-4 text-slate-400\" /> Spending</h3>\n            {chartData.length > 0 ? (\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <PieChart>\n                  <Pie data={chartData} innerRadius={60} outerRadius={80} paddingAngle={5} dataKey=\"value\">\n                    {chartData.map((entry, index) => <Cell key={`cell-${index}`} fill={entry.color} stroke=\"none\" />)}\n                  </Pie>\n                  <RechartsTooltip formatter={(value) => `$${value}`} contentStyle={{ borderRadius: '12px', border: 'none' }} />\n                </PieChart>\n              </ResponsiveContainer>\n            ) : (\n              <div className=\"h-full flex flex-col items-center justify-center text-slate-400\"><PieIcon className=\"w-12 h-12 mb-2 opacity-20\" /><p className=\"text-sm\">No expense data</p></div>\n            )}\n          </div>\n\n          {/* List */}\n          <div className=\"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden min-h-[500px]\">\n            <div className=\"p-6 border-b border-slate-100 flex justify-between items-center\">\n              <h3 className=\"font-bold text-slate-800 flex items-center gap-2\"><LayoutDashboard className=\"w-4 h-4 text-slate-400\" /> History</h3>\n              <button onClick={() => openModal()} className=\"bg-slate-900 text-white text-xs font-bold px-4 py-2 rounded-lg hover:bg-slate-800 transition-colors flex items-center gap-2\"><Plus className=\"w-3 h-3\" /> Add New</button>\n            </div>\n            <div className=\"divide-y divide-slate-50\">\n              {expenses.length === 0 ? (\n                <div className=\"p-10 text-center text-slate-500\">No transactions found.</div>\n              ) : (\n                expenses.map((item) => (\n                  <div key={item.id} className=\"p-4 hover:bg-slate-50 transition-colors flex items-center justify-between group\">\n                    <div className=\"flex items-center gap-4\">\n                      <div className={`w-10 h-10 rounded-full flex items-center justify-center text-lg ${item.type === 'income' ? 'bg-emerald-100' : 'bg-slate-100'}`}>{CATEGORIES.find(c => c.name === item.category)?.icon || 'ðŸ“„'}</div>\n                      <div>\n                        <p className=\"font-semibold text-slate-700\">{item.description}</p>\n                        <div className=\"flex items-center gap-2 text-xs text-slate-400 mt-0.5\"><Calendar className=\"w-3 h-3\" />{item.date} â€¢ {item.category}</div>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-6\">\n                      <span className={`font-bold ${item.type === 'income' ? 'text-emerald-600' : 'text-slate-700'}`}>{item.type === 'income' ? '+' : '-'}${item.amount.toLocaleString()}</span>\n                      <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                        <button onClick={() => openModal(item)} className=\"p-2 text-slate-400 hover:text-indigo-600\"><Edit2 className=\"w-4 h-4\" /></button>\n                        <button onClick={() => handleDelete(item.id)} className=\"p-2 text-slate-400 hover:text-rose-600\"><Trash2 className=\"w-4 h-4\" /></button>\n                      </div>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n        </div>\n      </main>\n\n      <button onClick={() => openModal()} className=\"md:hidden fixed bottom-6 right-6 bg-indigo-600 text-white p-4 rounded-full shadow-xl hover:bg-indigo-700 z-50\"><Plus className=\"w-6 h-6\" /></button>\n\n      {/* Modal */}\n      {modalOpen && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-in fade-in duration-200\">\n          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200\">\n             <div className=\"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50\">\n               <h3 className=\"font-bold text-lg text-slate-800\">{editItem ? 'Edit Transaction' : 'New Transaction'}</h3>\n               <button onClick={closeModal} className=\"text-slate-400 hover:text-slate-600\">âœ•</button>\n             </div>\n             <form onSubmit={handleSave} className=\"p-6 space-y-5\">\n                <div className=\"flex p-1 bg-slate-100 rounded-xl\">\n                  {['expense', 'income'].map((t) => (\n                    <button key={t} type=\"button\" onClick={() => setType(t)} className={`flex-1 py-2 text-sm font-bold capitalize rounded-lg transition-all ${type === t ? 'bg-white shadow-sm ' + (t === 'expense' ? 'text-rose-600' : 'text-emerald-600') : 'text-slate-500'}`}>{t}</button>\n                  ))}\n                </div>\n                <div>\n                   <label className=\"text-xs font-bold text-slate-500 uppercase\">Amount</label>\n                   <div className=\"relative mt-1\">\n                     <DollarSign className=\"absolute left-3 top-3.5 w-5 h-5 text-slate-400\" />\n                     <input type=\"number\" step=\"0.01\" required placeholder=\"0.00\" className=\"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg font-mono\" value={amount} onChange={e => setAmount(e.target.value)} />\n                   </div>\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div><label className=\"text-xs font-bold text-slate-500 uppercase\">Date</label><input type=\"date\" required className=\"w-full mt-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500\" value={date} onChange={e => setDate(e.target.value)} /></div>\n                  <div><label className=\"text-xs font-bold text-slate-500 uppercase\">Description</label><input type=\"text\" required placeholder=\"e.g. Tacos\" className=\"w-full mt-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500\" value={description} onChange={e => setDescription(e.target.value)} /></div>\n                </div>\n                <div>\n                  <label className=\"text-xs font-bold text-slate-500 uppercase mb-2 block\">Category</label>\n                  <div className=\"grid grid-cols-4 gap-2\">\n                    {CATEGORIES.map(c => (\n                      <button key={c.name} type=\"button\" onClick={() => setCategory(c.name)} className={`flex flex-col items-center justify-center p-2 rounded-xl border transition-all ${category === c.name ? 'bg-indigo-50 ring-1 ring-indigo-500 border-indigo-500 text-indigo-700' : 'border-slate-100 hover:border-slate-300 text-slate-600'}`}><span className=\"text-xl mb-1\">{c.icon}</span><span className=\"text-[10px] font-medium truncate w-full text-center\">{c.name}</span></button>\n                    ))}\n                  </div>\n                </div>\n                <button className=\"w-full bg-slate-900 text-white font-bold py-4 rounded-xl hover:bg-slate-800 transition-all shadow-lg\">{editItem ? 'Update' : 'Save'}</button>\n             </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAwCU;;AAtCV;AACA,mBAAmB;AACnB;AAAA;AACA;AAAA;AASA;AAAA;AAaA,gBAAgB;AAChB;AAAA;AAAA;AAAA;AAAA;AAGA,eAAe;AACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAhCA;;;;;;;AAsCA,oCAAoC;AACpC,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,qDAAqD;AACrD,IAAI,KAAK,MAAM;AAEf,IAAI,+CAAkB,eAAe,CAAC,IAAA,8KAAO,IAAG,MAAM,EAAE;IACtD,IAAI;QACF,MAAM,IAAA,oLAAa,EAAC;QACpB,OAAO,IAAA,wKAAO,EAAC;QACf,KAAK,IAAA,kLAAY,EAAC;QAElB,sBAAsB;QACtB,IAAA,gMAA0B,EAAC,IAAI,KAAK,CAAC,CAAC;YACpC,IAAI,IAAI,IAAI,IAAI,uBAAuB;gBACrC,QAAQ,IAAI,CAAC;YACf,OAAO,IAAI,IAAI,IAAI,IAAI,iBAAiB;gBACtC,QAAQ,IAAI,CAAC;YACf;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;IACxC;AACF,OAAO,wCAAmC;IACxC,MAAM,IAAA,6KAAM;IACZ,OAAO,IAAA,wKAAO,EAAC;IACf,KAAK,IAAA,kLAAY,EAAC;AACpB;AAEA,uBAAuB;AACvB,MAAM,aAAa;IACjB;QAAE,MAAM;QAAQ,OAAO;QAAW,MAAM;IAAK;IAC7C;QAAE,MAAM;QAAQ,OAAO;QAAW,MAAM;IAAK;IAC7C;QAAE,MAAM;QAAa,OAAO;QAAW,MAAM;IAAK;IAClD;QAAE,MAAM;QAAiB,OAAO;QAAW,MAAM;IAAK;IACtD;QAAE,MAAM;QAAY,OAAO;QAAW,MAAM;IAAM;IAClD;QAAE,MAAM;QAAU,OAAO;QAAW,MAAM;IAAK;IAC/C;QAAE,MAAM;QAAU,OAAO;QAAW,MAAM;IAAK;IAC/C;QAAE,MAAM;QAAa,OAAO;QAAW,MAAM;IAAK;IAClD;QAAE,MAAM;QAAS,OAAO;QAAW,MAAM;IAAK;CAC/C;AAED,4BAA4B;AAE5B,wBAAwB;AACxB,MAAM,aAAa,CAAC,EAAE,OAAO,EAAE;;IAC7B,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,aAAa,OAAO;QACxB,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QACT,IAAI;YACF,IAAI,eAAe;gBACjB,MAAM,IAAA,+LAA8B,EAAC,MAAM,OAAO;YACpD,OAAO;gBACL,MAAM,IAAA,2LAA0B,EAAC,MAAM,OAAO;YAChD;QACF,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO,CAAC,OAAO,CAAC,cAAc;QAC7C;QACA,WAAW;IACb;IAEA,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,IAAA,gLAAe,EAAC,MAAM,IAAI,mLAAkB;QACpD,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO;QACtB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,mNAAM;4BAAC,WAAU;;;;;;;;;;;;;;;;8BAGtB,6LAAC;oBAAG,WAAU;8BACX,gBAAgB,mBAAmB;;;;;;8BAEtC,6LAAC;oBAAE,WAAU;8BAAkC;;;;;;gBAE9C,uBAAS,6LAAC;oBAAI,WAAU;8BAAsD;;;;;;8BAE/E,6LAAC;oBAAK,UAAU;oBAAY,WAAU;;sCACpC,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAA4D;;;;;;8CAC7E,6LAAC;oCAAM,MAAK;oCAAQ,QAAQ;oCAAC,WAAU;oCAAsG,OAAO;oCAAO,UAAU,CAAA,IAAK,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAEnM,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAA4D;;;;;;8CAC7E,6LAAC;oCAAM,MAAK;oCAAW,QAAQ;oCAAC,WAAU;oCAAsG,OAAO;oCAAU,UAAU,CAAA,IAAK,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAE5M,6LAAC;4BAAO,UAAU;4BAAS,WAAU;sCAClC,wBAAU,6LAAC,+NAAO;gCAAC,WAAU;;;;;2EAAoC,gBAAgB,YAAY;;;;;;;;;;;;8BAIlG,6LAAC;oBAAI,WAAU;8BACZ,cAAA,6LAAC;wBAAO,MAAK;wBAAS,SAAS;wBAAc,WAAU;kCAA8J;;;;;;;;;;;8BAKxN,6LAAC;oBAAE,WAAU;;wBACV,gBAAgB,6BAA6B;wBAA0B;sCACxE,6LAAC;4BAAO,SAAS,IAAM,iBAAiB,CAAC;4BAAgB,WAAU;sCAChE,gBAAgB,UAAU;;;;;;;;;;;;;;;;;;;;;;;AAMvC;GA3EM;KAAA;AA8ES,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,aAAa;IACb,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IAEjC,mBAAmB;IACnB,IAAA,0KAAS;yBAAC;YACR,IAAI,CAAC,MAAM;YACX,MAAM,cAAc,IAAA,mLAAkB,EAAC;6CAAM,CAAC;oBAC5C,QAAQ;oBACR,IAAI,CAAC,GAAG;wBACN,YAAY,EAAE;wBACd,WAAW;oBACb;gBACF;;YACA;iCAAO,IAAM;;QACf;wBAAG,EAAE;IAEL,iCAAiC;IACjC,IAAA,0KAAS;yBAAC;YACR,IAAI,CAAC,QAAQ,CAAC,IAAI;YAElB,uCAAuC;YACvC,MAAM,IAAI,IAAA,2KAAK,EACb,IAAA,gLAAU,EAAC,IAAI,SAAS,KAAK,GAAG,EAAE,aAClC,IAAA,6KAAO,EAAC,QAAQ,SAChB,IAAA,6KAAO,EAAC,aAAa;YAGvB,MAAM,cAAc,IAAA,gLAAU,EAAC;6CAAG,CAAC;oBACjC,MAAM,OAAO,SAAS,IAAI,CAAC,GAAG;0DAAC,CAAA,MAAO,CAAC;gCACrC,IAAI,IAAI,EAAE;gCACV,GAAG,IAAI,IAAI,EAAE;4BACf,CAAC;;oBACD,YAAY;oBACZ,WAAW;gBACb;;YAEA;iCAAO,IAAM;;QACf;wBAAG;QAAC;KAAK;IAET,qBAAqB;IACrB,MAAM,aAAa,OAAO;QACxB,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM;QAEX,MAAM,UAAU;YACd,QAAQ,WAAW;YACnB;YACA;YACA;YACA;YACA,WAAW,IAAA,qLAAe;QAC5B;QAEA,IAAI;YACF,MAAM,SAAS,IAAA,gLAAU,EAAC,IAAI,SAAS,KAAK,GAAG,EAAE;YACjD,IAAI,UAAU;gBACZ,MAAM,EAAE,SAAS,EAAE,GAAG,eAAe,GAAG,SAAS,4BAA4B;gBAC7E,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,IAAI,SAAS,KAAK,GAAG,EAAE,YAAY,SAAS,EAAE,GAAG;YACvE,OAAO;gBACL,MAAM,IAAA,4KAAM,EAAC,QAAQ;YACvB;YACA;QACF,EAAE,OAAO,KAAK;YACZ,MAAM,mBAAmB,IAAI,OAAO;QACtC;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,6BAA6B;QAC1C,IAAI;YACF,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,IAAI,SAAS,KAAK,GAAG,EAAE,YAAY;QACzD,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,SAAS,MAAM,EAAE;QACtB,MAAM,UAAU;YAAC;YAAQ;YAAQ;YAAY;YAAe;SAAS;QACrE,MAAM,OAAO,SAAS,GAAG,CAAC,CAAA,IAAK;gBAAC,EAAE,IAAI;gBAAE,EAAE,IAAI;gBAAE,EAAE,QAAQ;gBAAE,CAAC,CAAC,EAAE,EAAE,WAAW,CAAC,CAAC,CAAC;gBAAE,EAAE,MAAM;aAAC;QAC3F,MAAM,aAAa,iCAAiC,QAAQ,IAAI,CAAC,OAAO,OAAO,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,CAAC,MAAM,IAAI,CAAC;QAC/G,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,YAAY,CAAC,QAAQ,UAAU;QACpC,KAAK,YAAY,CAAC,YAAY,CAAC,mBAAmB,CAAC;QACnD,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;IAC5B;IAEA,oBAAoB;IACpB,MAAM,YAAY,CAAC,OAAO,IAAI;QAC5B,IAAI,MAAM;YACR,YAAY;YACZ,UAAU,KAAK,MAAM;YACrB,eAAe,KAAK,WAAW;YAC/B,YAAY,KAAK,QAAQ;YACzB,QAAQ,KAAK,IAAI;YACjB,QAAQ,KAAK,IAAI;QACnB,OAAO;YACL,YAAY;YACZ,UAAU;YACV,eAAe;YACf,YAAY;YACZ,QAAQ;YACR,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QAChD;QACA,aAAa;IACf;IAEA,MAAM,aAAa;QACjB,aAAa;QACb,YAAY;IACd;IAEA,gBAAgB;IAChB,MAAM,QAAQ,IAAA,wKAAO;8BAAC;YACpB,MAAM,SAAS,SAAS,MAAM;6CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;4CAAU,MAAM;6CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,MAAM;4CAAE;YAClG,MAAM,UAAU,SAAS,MAAM;8CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;6CAAW,MAAM;8CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,MAAM;6CAAE;YACpG,OAAO;gBAAE;gBAAQ;gBAAS,SAAS,SAAS;YAAQ;QACtD;6BAAG;QAAC;KAAS;IAEb,MAAM,YAAY,IAAA,wKAAO;kCAAC;YACxB,MAAM,cAAc,SAAS,MAAM;sDAAC,CAAA,IAAK,EAAE,IAAI,KAAK;;YACpD,MAAM,UAAU,YAAY,MAAM;kDAAC,CAAC,KAAK;oBACvC,GAAG,CAAC,KAAK,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,QAAQ,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM;oBAC5D,OAAO;gBACT;iDAAG,CAAC;YAEJ,OAAO,OAAO,IAAI,CAAC,SAAS,GAAG;0CAAC,CAAA,MAAO,CAAC;wBACtC,MAAM;wBACN,OAAO,OAAO,CAAC,IAAI;wBACnB,OAAO,WAAW,IAAI;sDAAC,CAAA,IAAK,EAAE,IAAI,KAAK;sDAAM,SAAS;oBACxD,CAAC;yCAAG,IAAI;0CAAC,CAAC,GAAE,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;;QACrC;iCAAG;QAAC;KAAS;IAEb,IAAI,SAAS,qBAAO,6LAAC;QAAI,WAAU;kBAA4C,cAAA,6LAAC,+NAAO;YAAC,WAAU;;;;;;;;;;;IAClG,IAAI,CAAC,MAAM,qBAAO,6LAAC;;;;;IAEnB,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAO,WAAU;;kCAChB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,mNAAM;oCAAC,WAAU;;;;;;;;;;;0CAEpB,6LAAC;gCAAK,WAAU;0CAAmD;;;;;;;;;;;;kCAErE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAO,SAAS;gCAAc,WAAU;gCAA0F,OAAM;0CAAa,cAAA,6LAAC,6NAAQ;oCAAC,WAAU;;;;;;;;;;;0CAC1K,6LAAC;gCAAO,SAAS,IAAM,IAAA,wKAAO,EAAC;gCAAO,WAAU;gCAAoF,OAAM;0CAAS,cAAA,6LAAC,uNAAM;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;0BAIzK,6LAAC;gBAAK,WAAU;;kCAEd,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;0DAAI,6LAAC;gDAAE,WAAU;0DAAsC;;;;;;0DAAiB,6LAAC;gDAAG,WAAU;;oDAA0B;oDAAE,MAAM,OAAO,CAAC,cAAc;;;;;;;;;;;;;kDAC/I,6LAAC;wCAAI,WAAU;;0DAA0E,6LAAC;gDAAK,WAAU;;;;;;4CAA8D;;;;;;;;;;;;;0CAEzK,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;0DAAI,6LAAC;gDAAE,WAAU;0DAAqC;;;;;;0DAAU,6LAAC;gDAAG,WAAU;;oDAA2C;oDAAG,MAAM,MAAM,CAAC,cAAc;;;;;;;;;;;;;kDACxJ,6LAAC;wCAAI,WAAU;kDAAuC,cAAA,6LAAC,mOAAU;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAE9E,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;0DAAI,6LAAC;gDAAE,WAAU;0DAAqC;;;;;;0DAAY,6LAAC;gDAAG,WAAU;;oDAAwC;oDAAG,MAAM,OAAO,CAAC,cAAc;;;;;;;;;;;;;kDACxJ,6LAAC;wCAAI,WAAU;kDAAoC,cAAA,6LAAC,yOAAY;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;kCAI/E,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;;0DAAwD,6LAAC,6NAAO;gDAAC,WAAU;;;;;;4CAA2B;;;;;;;oCACnH,UAAU,MAAM,GAAG,kBAClB,6LAAC,6LAAmB;wCAAC,OAAM;wCAAO,QAAO;kDACvC,cAAA,6LAAC,mKAAQ;;8DACP,6LAAC,yJAAG;oDAAC,MAAM;oDAAW,aAAa;oDAAI,aAAa;oDAAI,cAAc;oDAAG,SAAQ;8DAC9E,UAAU,GAAG,CAAC,CAAC,OAAO,sBAAU,6LAAC,+JAAI;4DAAuB,MAAM,MAAM,KAAK;4DAAE,QAAO;2DAA3C,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;8DAE7D,6LAAC,qKAAe;oDAAC,WAAW,CAAC,QAAU,CAAC,CAAC,EAAE,OAAO;oDAAE,cAAc;wDAAE,cAAc;wDAAQ,QAAQ;oDAAO;;;;;;;;;;;;;;;;6DAI7G,6LAAC;wCAAI,WAAU;;0DAAkE,6LAAC,6NAAO;gDAAC,WAAU;;;;;;0DAA8B,6LAAC;gDAAE,WAAU;0DAAU;;;;;;;;;;;;;;;;;;0CAK7J,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;;kEAAmD,6LAAC,kPAAe;wDAAC,WAAU;;;;;;oDAA2B;;;;;;;0DACvH,6LAAC;gDAAO,SAAS,IAAM;gDAAa,WAAU;;kEAA8H,6LAAC,6MAAI;wDAAC,WAAU;;;;;;oDAAY;;;;;;;;;;;;;kDAE1M,6LAAC;wCAAI,WAAU;kDACZ,SAAS,MAAM,KAAK,kBACnB,6LAAC;4CAAI,WAAU;sDAAkC;;;;;mDAEjD,SAAS,GAAG,CAAC,CAAC,qBACZ,6LAAC;gDAAkB,WAAU;;kEAC3B,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAI,WAAW,CAAC,gEAAgE,EAAE,KAAK,IAAI,KAAK,WAAW,mBAAmB,gBAAgB;0EAAG,WAAW,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,KAAK,QAAQ,GAAG,QAAQ;;;;;;0EAC1M,6LAAC;;kFACC,6LAAC;wEAAE,WAAU;kFAAgC,KAAK,WAAW;;;;;;kFAC7D,6LAAC;wEAAI,WAAU;;0FAAwD,6LAAC,yNAAQ;gFAAC,WAAU;;;;;;4EAAa,KAAK,IAAI;4EAAC;4EAAI,KAAK,QAAQ;;;;;;;;;;;;;;;;;;;kEAGvI,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAK,WAAW,CAAC,UAAU,EAAE,KAAK,IAAI,KAAK,WAAW,qBAAqB,kBAAkB;;oEAAG,KAAK,IAAI,KAAK,WAAW,MAAM;oEAAI;oEAAE,KAAK,MAAM,CAAC,cAAc;;;;;;;0EAChK,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEAAO,SAAS,IAAM,UAAU;wEAAO,WAAU;kFAA2C,cAAA,6LAAC,8MAAK;4EAAC,WAAU;;;;;;;;;;;kFAC9G,6LAAC;wEAAO,SAAS,IAAM,aAAa,KAAK,EAAE;wEAAG,WAAU;kFAAyC,cAAA,6LAAC,uNAAM;4EAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;+CAZ/G,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAuB7B,6LAAC;gBAAO,SAAS,IAAM;gBAAa,WAAU;0BAAgH,cAAA,6LAAC,6MAAI;oBAAC,WAAU;;;;;;;;;;;YAG7K,2BACC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACZ,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAoC,WAAW,qBAAqB;;;;;;8CAClF,6LAAC;oCAAO,SAAS;oCAAY,WAAU;8CAAsC;;;;;;;;;;;;sCAE/E,6LAAC;4BAAK,UAAU;4BAAY,WAAU;;8CACnC,6LAAC;oCAAI,WAAU;8CACZ;wCAAC;wCAAW;qCAAS,CAAC,GAAG,CAAC,CAAC,kBAC1B,6LAAC;4CAAe,MAAK;4CAAS,SAAS,IAAM,QAAQ;4CAAI,WAAW,CAAC,mEAAmE,EAAE,SAAS,IAAI,wBAAwB,CAAC,MAAM,YAAY,kBAAkB,kBAAkB,IAAI,kBAAkB;sDAAG;2CAAlP;;;;;;;;;;8CAGjB,6LAAC;;sDACE,6LAAC;4CAAM,WAAU;sDAA6C;;;;;;sDAC9D,6LAAC;4CAAI,WAAU;;8DACb,6LAAC,mOAAU;oDAAC,WAAU;;;;;;8DACtB,6LAAC;oDAAM,MAAK;oDAAS,MAAK;oDAAO,QAAQ;oDAAC,aAAY;oDAAO,WAAU;oDAAgJ,OAAO;oDAAQ,UAAU,CAAA,IAAK,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;8CAGlR,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DAAI,6LAAC;oDAAM,WAAU;8DAA6C;;;;;;8DAAY,6LAAC;oDAAM,MAAK;oDAAO,QAAQ;oDAAC,WAAU;oDAA6H,OAAO;oDAAM,UAAU,CAAA,IAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sDACpS,6LAAC;;8DAAI,6LAAC;oDAAM,WAAU;8DAA6C;;;;;;8DAAmB,6LAAC;oDAAM,MAAK;oDAAO,QAAQ;oDAAC,aAAY;oDAAa,WAAU;oDAA6H,OAAO;oDAAa,UAAU,CAAA,IAAK,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;8CAEpV,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAAwD;;;;;;sDACzE,6LAAC;4CAAI,WAAU;sDACZ,WAAW,GAAG,CAAC,CAAA,kBACd,6LAAC;oDAAoB,MAAK;oDAAS,SAAS,IAAM,YAAY,EAAE,IAAI;oDAAG,WAAW,CAAC,+EAA+E,EAAE,aAAa,EAAE,IAAI,GAAG,0EAA0E,0DAA0D;;sEAAE,6LAAC;4DAAK,WAAU;sEAAgB,EAAE,IAAI;;;;;;sEAAQ,6LAAC;4DAAK,WAAU;sEAAuD,EAAE,IAAI;;;;;;;mDAA9a,EAAE,IAAI;;;;;;;;;;;;;;;;8CAIzB,6LAAC;oCAAO,WAAU;8CAAwG,WAAW,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOhK;IApRwB;MAAA"}}]
}